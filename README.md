# Stock Market Analysis Using Yahoo Finance and Prophet

## Overview
This project analyzes stock market data from Yahoo Finance India, focusing on historical trends, weekday-based performance, and future price predictions using the Prophet model. The analysis includes identifying the best and worst days for stock investments, backtesting investment strategies, and forecasting stock prices.

## Dataset
- Source: Yahoo Finance India
- File Format: CSV (e.g., `VOO.csv`)
- Columns Used: `Date`, `Open`

## Steps in the Analysis

### 1. Data Preparation
- Reads stock data from a CSV file.
- Parses the `Date` column and adds a `DayOfWeek` column.
- Computes the daily percentage change (`diff_from_previous_day`).
- Groups data by weekdays to determine the average dip percentage for each day.

### 2. Handling Missing Data and Holidays
- Creates a full calendar of trading days.
- Excludes weekends.
- Fills missing values using forward and backward fill methods to account for holidays.

### 3. Backtesting Investment Strategy
- Defines a `day_backtester` function that simulates investing a fixed amount on a given weekday.
- Calculates the final investment value based on the opening price on that weekday.
- Compares different weekdays to determine the most profitable day to invest.

### 4. Predicting Stock Prices Using Prophet
- Uses the Prophet model to predict stock prices based on historical trends.
- Trains the model on a rolling three-week dataset.
- Saves weekly forecasts in `.pkl` files.
- Aggregates predictions and identifies the lowest price day in each week.

### 5. Why Use `.pkl` Files?
A `.pkl` (Pickle) file is a binary file format used in Python to serialize and save objects. In this project, `.pkl` files store weekly forecasts generated by the Prophet model.

#### Benefits of `.pkl` Files:
1. **Faster Loading** – No need to waste time retraining; just load the saved forecast instantly.
2. **Reproducibility** – Ensures consistency when analyzing past predictions.
3. **Memory Efficiency** – Saves computational resources by storing results instead of recalculating them.

### 6. Evaluating Prediction Accuracy
- Compares predicted low-price days with actual market data.
- Computes accuracy by checking how often the predicted lowest price day matches the actual lowest price day.

## Insights and Key Findings
1. **Day-wise Stock Performance:** Identifies which day of the week has the biggest average drop in stock prices, helping to determine the best time to buy.
2. **Investment Strategy Evaluation:** Backtesting results reveal which weekday would have yielded the highest returns over time.
3. **Holiday Effects on Stock Prices:** By filling in missing holiday data with the next available stock price, we account for non-trading days.
4. **Stock Price Forecasting:** Uses Prophet to predict price movements, helping investors make data-driven decisions.
5. **Prediction Accuracy:** Compares actual vs. predicted lowest price days, evaluating the reliability of the forecasting model.

## Results
- The model provides insights into weekly trading patterns.
- It achieves a measurable prediction accuracy for forecasting the lowest price days.
- Helps in making informed trading decisions based on historical data and machine learning predictions.

This project demonstrates how to leverage machine learning and historical stock data to optimize investment strategies.

